 <!DOCTYPE html>
<html>
  <head>
    <title>ADMIN</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <style>
      html
      {
        scroll-behavior: smooth;
      }
      body
      {
        background-image: url('/static/bg_image/admin.jpg');
          background-repeat: no-repeat;
          background-size: cover;
      }
      #div3
      {
        background-color: white;
        position: relative;
        opacity: 0.8;
        border: 2px solid white;
        border-radius: 10px;
        top: 64px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <h5 style="padding-left: 2%;color: white;"> Welcome {{username}}</h5>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo02" style="color: white;">
        &nbsp;&nbsp;&nbsp;
        <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="{{url_for('admin_page')}}">Make Folders</a>
        </li>
        <li class="nav-item">
          <a class="nav-link"  href="{{url_for('Generate_Encodings_page')}}">Encodings</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{url_for('Registration_Control_page')}}">Registration Control</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{url_for('view_attendance_page')}}">View Attendance</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{url_for('Locations_page')}}">Locations</a>
        </li>
      </ul>
        <form class="form-inline">
          <button class="btn btn-outline-primary my-2 my-sm-0" type="submit" formaction="{{url_for('logout')}}">Logout</button>
        </form>
      </div>
    </nav>
    <div id="div1" class="container"> <!-- container div1 -->
      <div id="div2" class="row">     <!-- container div2 -->
        <div id="div3" name="div3" class="col">   <!-- container div3 -->
          <div class="container" id="container1" name="container1" style="position: relative; border-radius:10px;"> <!-- container 1 -->
          <!-- Flash Message -->
            <center>
              <div id="alerts">
              <h5 style="color: red">
                  {% with messages = get_flashed_messages() %}          <!-- Flash Message division starts -->
                   {% if messages %}
                     {% for message in messages %}
                      <br><br>
                       {% if fail %}
                          <div class="alert alert-danger" id="flash_alert" style="color: red;" role="alert">
                              {{ message }}
                          </div>
                        {% else %}
                          <div class="alert alert-success" id="flash_alert" role="alert">
                              {{ message }}
                          </div>
                        {% endif %}
                      {% endfor %}
                    {% endif %}
                  {% endwith %}
            <!-- Flash Message division ends here -->
              </h5>
            </div>
            </center>
          </div>      <!-- /container1 -->
          <div class="container" id="container2" name="container2" style="position: relative;">
            <center><h2 style="color:#540569">Location Update</h2></center><br>
            <p id="lat&lan" style="margin-left:10% "></p>
            <script>
            var x = document.getElementById("lat&lan");
            var options = {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                      };
            var id;
            function getLocation() {
              if (navigator.geolocation) 
              {
                document.getElementById('alerts').style.display="none";
                document.getElementById('Get_location_button').disabled="true";
                document.getElementById('Remove_location_button').disabled="true";
                x.innerHTML = "Please wait till we get your location";
                navigator.geolocation.getCurrentPosition(GetPosition,error,options);
              }
              else{ 
                x.innerHTML = "Geolocation is not supported by this browser.";
              }
            }
            function GetPosition(position) {
                  x.innerHTML = "Latitude: " + position.coords.latitude + 
                  "<br>Longitude: " + position.coords.longitude;
                  document.getElementById('latitude').value=position.coords.latitude;
                  document.getElementById('longitude').value=position.coords.longitude;
                }
            function error(err) {
              console.warn('ERROR(' + err.code + '): ' + err.message);
            };
            </script>
            <center>
              <button type="submit" id="Get_location_button" class="btn btn-primary" style="color: black;width: 240px;font-size: 22px;" onclick="getLocation()">Get Location</button>
              <br><br>
              <form id="locations_form" method="POST" enctype="multipart/form-data"> 
                <div class="col" style="display: none;">
                  <input name="latitude" id="latitude" type="text" class="form-control" style="border-color: #090609;width: 80px;" onchange="enable_save()" readonly>
                </div>
                <div class="col" style="display: none;">
                  <input name="longitude" id="longitude" type="text" class="form-control" style="border-color: #090609;width: 80px;"readonly>
                </div>

                <button type="submit" id="Save_location_button"  class="btn btn-success" formaction="/save_locations" style="color: black;width: 240px;font-size: 22px;">Save Location</button>
                <br><br>
                <button type="submit" id="Remove_location_button" formaction="/remove_locations" class="btn btn-danger" style="color: black;width: 240px;font-size: 22px;">Remove Locations</button>
                <br><br>
              </form>
            </center>
          </div>      <!--/ registration control options -->
        </div>      <!-- /container div3 -->
      </div>      <!-- /container div2 -->
    </div>      <!-- /container div1 -->
  </body>
</html>
